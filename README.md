# Garnetutils

This CLI app will autogenerate the files required by the `Go` backend to interact with the `Garnet` indexer.

## Requirements

- Go >= 1.20

## Installation

```sh
go install github.com/bocha-io/garnetutils@latest
```

## Usage

```sh
garnetutils generate -i ./mud.config.ts -o /tmp/garnetgenerated/
```

Params:

- `-i`: mud config path
- `-o`: destination folder

### Using the .go files

The autogenerated files must be in a folder named `garnethelpers` inside your go project.

- The `getters` file has all the helpers needed to read the blockchain information using the `Garnet` lib.
- The `events` file has all the functions to create `MudEvents`, events used to predict the result of a transaction.
- The `types` file has the common types, you need to call `NewGameObject` in your go project with a reference to the `Garnet` db, so the `getters` file has all the dependencies set to read the game status.

## Build from source

```sh
git clone https://github.com/bocha-io/garnetutils
cd garnetutils
make build
```

The `garnetutils` binary will be located at `garnetutils/build`.

## TODOs:

- Allow comments in the `mud.config.ts` file.
- Add all the possible mud types. (Right now it only supports the types that we are using in our games).
- Add support for MUD modules.
- Add a solidity transpiler for the validation and prediction of the systems implemented by the user in MUD.
